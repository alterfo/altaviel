<!DOCTYPE html>
<html>

<head>
    <title>Альтавиэль</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="static/css/jquery.mobile-1.3.2.min.css">
    <link rel="stylesheet" href="static/css/style.css">
    <script src="https://maps.googleapis.com/maps/api/js?v=3&key=AIzaSyCW4Xklzsz81joDEoqEPlSt2fhaxArZlAE&sensor=false&language=ru"></script>
    <script src="static/js/jquery-1.10.2.min.js"></script>
    <script src="static/js/jquery.mobile-1.3.2.min.js"></script>

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body>

    <div data-role="page" id="main_page" data-theme="b">
        <div data-role="header">
            <h3>Альтавиэль</h3>
            <a href="#settings" data-icon="gear" class="ui-btn-right">Настройки</a>
        </div>
        <div data-role="content">
            <a href="#map_page" data-role="button">Создать запрос</a>
            <a href="#search_page" data-role="button">Ближайшие запросы</a>
            <a href="#about_page" data-role="button">О нас</a>
        </div>
        <div data-role="footer">
            <h1>Копирайт</h1>
        </div>
    </div>

    <!--
    Создание запроса о помощи.
-->
    <div data-role="page" id="map_page" data-theme="b">

        <div data-role="header">
            <a href="#main_page" data-icon="home" class="ui-btn-left" data-iconpos="notext">Домой</a>
            <h3>Запрос о помощи</h3>
            <a href="#settings" data-icon="gear" class="ui-btn-right">Настройки</a>
        </div>
        <div data-role="content">
            <label for="address">Адрес ближайшего дома:</label>
            <input class="address" name="address" value="" type="text" placeholder="Address" data-clear-btn="true" />
            <a href="#form_page" data-role="button" data-rel="dialog" data-transition="flip" id="form_page_href" style="display:none;">Далее</a>
            <div id="map-canvas"></div>
        </div>
        <div data-role="footer"></div>
    </div>

    <!--
    Показать ближайшие запросы
-->

    <div data-role="page" id="search_page" data-theme="b">
        <div data-role="header">
            <a href="#main_page" data-icon="home" class="ui-btn-left" data-iconpos="notext">Домой</a>
            <h3>Ближайшие к вам запросы</h3>
            <a href="#settings" data-icon="gear" class="ui-btn-right">Настройки</a>
        </div>
        <div data-role="content">
            <label for="address">Укажите адрес ближайшего дома:</label>
            <input class="address" name="address" value="" type="text" placeholder="Address" data-clear-btn="true" />
            <div id="map-search-canvas"></div>
        </div>
        <div data-role="footer"></div>
    </div>

    <div data-role="page" id="about_page" data-theme="b">
        <div data-role="header">
            <a href="#main_page" data-icon="home" class="ui-btn-left" data-iconpos="notext">Домой</a>
            <h3>О нас</h3>
            <a h ref="#settings" data-icon="gear" class="ui-btn-right">Настройки</a>
        </div>
        <div data-role="content">
            <h1>Альтавиэль</h1>
            <p>Сервис взаимопомощи в век высоких технологий. Сообщество людей безвозмездно помогающих друг другу в трудных жизненных ситуациях.</p>
        </div>
        <div data-role="footer"></div>
    </div>

    <div data-role="page" id="settings" data-theme="b">
        <div data-role="header">
            <a href="#main_page" data-icon="home" class="ui-btn-left" data-iconpos="notext">Домой</a>
            <h3>Настройки</h3>
            <a href="#settings" data-icon="gear" class="ui-btn-right">Настройки</a>
        </div>
        <div data-role="content">
            <div data-role="fieldcontain">
                <label for="name">Мое имя:</label>
                <input type="text" name="name" id="name" value="" />
            </div>
            <div data-role="fieldcontain">
                <label for="textarea">Обо мне:</label>
                <textarea name="textarea" id="textarea"></textarea>
            </div>
        </div>
        <div data-role="footer">&copy;</div>
    </div>

    <div data-role="page" id="form_page" data-theme="b">

        <div data-role="header">
            <h3>Запрос о помощи</h3>
            <a href="#map_page" data-icon="delete" class="ui-btn-right" data-iconpos="notext">Настройки</a>
        </div>
        <div data-role="content">
            <div data-role="fieldcontain">
                <input type="hidden" name="lat" id='lat' />
                <input type="hidden" name="long" id="long" />
                <label for="select-type" class="select">Тип проблемы:</label>
                <select name="select-type" id="select-type">
                    <option value="standard">Проблема с автомобилем</option>
                    <option value="standard">Компьютерная помощь</option>
                    <option value="standard">Бытовой ремонт</option>
                    <option value="standard">Привезти что-нибудь</option>
                </select>
                <label for="title">Заголовок:</label>
                <input type="text" name="title" id="title" value="" />
                <p/>
                <label for="problem_text">Описание проблемы:</label>
                <!-- TODO: Добавить возможность записи видео или аудио -->
                <textarea cols="40" rows="8" name="problem_text" id="problem_text"></textarea>
                <p/>
                <label for="severity">Время жизни заявки (в часах):</label>
                <input type="range" name="severity" id="severity" value="1" min="0" max="72" />
                <p/>
                <a href="#form_submit" data-role="button">Отправить заявку</a>
            </div>
        </div>
        <div data-role="footer"></div>
    </div>

    <script>
    /**
     * Функция для выставления размеров канваса в зависимости от устройства.
     *
     *
     */
    (function adjustCanvas() {
        var useragent = navigator.userAgent;
        var mapdiv = document.getElementById("map-canvas");
        var mapdiv2 = document.getElementById("map-search-canvas");

        if (useragent.indexOf('iPhone') != -1 || useragent.indexOf('Android') != -1) {
            mapdiv.style.width = '100%';
            mapdiv.style.height = '300px';
            mapdiv2.style.width = '100%';
            mapdiv2.style.height = '300px';
        } else {
            mapdiv.style.width = '100%';
            mapdiv.style.height = '300px';
            mapdiv2.style.width = '100%';
            mapdiv2.style.height = '300px';
        }
    })();
    </script>
    <script src="static/js/functions.js"></script>

</body>

</html>
